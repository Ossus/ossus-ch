/**
 *  Functions for our carousel layout.
 */function circleItemTo(e,t,n,r){r=r?r:0;t%=360;var i=e.attr("id");if(!i){i="circle"+(new Date).getTime()+Math.round(Math.random()*1e5);e.attr("id",i)}var s=parseInt(e.css("left"))+e.outerWidth()/2,o=parseInt(e.css("top"))+e.outerHeight()/2,u=s-n.innerWidth()/2,a=o-n.innerHeight()/2,f=Math.atan2(a,u),l=Math.ceil(Math.sqrt(u*u+a*a)),c=deg2rad(t);c<f&&(c+=2*Math.PI);if(Math.round(f/.017453)==t)return!1;e.css("position","absolute");var h=(new Date).getTime(),p={view:e,width:e.width(),height:e.height(),box:{width:n.innerWidth(),height:n.innerHeight()},radius:l,start:{rad:f,time:h+r},end:{rad:c,time:h+r+_circleState.duration},duration:_circleState.duration,interval:null};_circleState.items[i]=p;_circleState.interval||(_circleState.interval=window.setInterval(_circleView,20));return!0}function _circleView(){var e=_circleState;if(!e)return;var t=(new Date).getTime(),n=0;for(var r in _circleState.items){var i=_circleState.items[r];if(i.start.time>t)continue;var s=0;n=Math.max(i.end.time,n);if(t<i.end.time){var o=(t-i.start.time)/i.duration,u=o;i.linear||(u=o*o*3-o*o*o*2);s=i.start.rad+u*(i.end.rad-i.start.rad)}else{s=i.end.rad;delete _circleState.items[r]}_circlePutItem(i.view,s,i.width,i.height,i.box)}if(n<t){window.clearInterval(_circleState.interval);_circleState.interval=null;_circleState.items={}}}function circlePutItemToPositionAtAngle(e,t){var n=e.offsetParent(),r={width:n.innerWidth(),height:n.innerHeight()};_circlePutItem(e,deg2rad(t),e.width(),e.height(),r)}function _circlePutItem(e,t,n,r,i){var s={x:i.width/2,y:i.height/2},o=Math.sin(t)*s.x,u=Math.cos(t)*s.x,a=s.x+u-n/2,f=s.y+o-r/2;i.width!=i.height;e.css("top",f).css("left",a)}function deg2rad(e){return e*.017453}var _circleState={items:[],interval:null,duration:1e3};